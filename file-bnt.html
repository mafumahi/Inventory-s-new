<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8" content="width=device-width, initial-scale=1.0">
    <title>‡¶∏‡ßÅ‡¶ú‡¶® ‡¶∏‡ßç‡¶ï‡¶Ø‡¶º‡¶æ‡¶∞ - ‡¶¨‡ßç‡¶Ø‡¶¨‡¶∏‡¶æ ‡¶¨‡ßç‡¶Ø‡¶¨‡¶∏‡ßç‡¶•‡¶æ‡¶™‡¶®‡¶æ ‡¶∏‡¶ø‡¶∏‡ßç‡¶ü‡ßá‡¶Æ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'SolaimanLipi', Arial, sans-serif;
            background-color: #f4f4f4;
            line-height: 1.6;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            background: linear-gradient(135deg, #2c3e50 0%, #3498db 100%);
            color: white;
            padding: 20px 0;
            text-align: center;
            margin-bottom: 30px;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }

        .dashboard {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .card {
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            transition: transform 0.3s;
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 4px 20px rgba(0,0,0,0.15);
        }

        .card h3 {
            color: #2c3e50;
            margin-bottom: 10px;
            font-size: 1.2em;
        }

        .card .number {
            font-size: 2em;
            font-weight: bold;
            color: #3498db;
        }

        .tabs {
            display: flex;
            flex-wrap: wrap;
            margin-bottom: 20px;
            background: white;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .tab-button {
            flex: 1;
            padding: 15px 20px;
            background: #ecf0f1;
            border: none;
            cursor: pointer;
            transition: background 0.3s;
            font-size: 16px;
            font-weight: 500;
        }

        .tab-button:hover {
            background: #bdc3c7;
        }

        .tab-button.active {
            background: #3498db;
            color: white;
        }

        .tab-content {
            display: none;
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .tab-content.active {
            display: block;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
            color: #2c3e50;
        }

        .form-group input,
        .form-group select,
        .form-group textarea {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 16px;
        }

        .form-group input:focus,
        .form-group select:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: #3498db;
        }

        .btn {
            padding: 10px 20px;
            background: #3498db;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            transition: background 0.3s;
        }

        .btn:hover {
            background: #2980b9;
        }

        .btn-danger {
            background: #e74c3c;
        }

        .btn-danger:hover {
            background: #c0392b;
        }

        .btn-success {
            background: #27ae60;
        }

        .btn-success:hover {
            background: #229954;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }

        table th,
        table td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #ddd;
        }

        table th {
            background: #3498db;
            color: white;
        }

        table tr:hover {
            background: #f5f5f5;
        }

        .search-box {
            margin-bottom: 20px;
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            z-index: 1000;
        }

        .modal-content {
            background: white;
            margin: 5% auto;
            padding: 30px;
            width: 90%;
            max-width: 600px;
            border-radius: 10px;
        }

        .close {
            float: right;
            font-size: 28px;
            cursor: pointer;
        }

        .loading {
            display: none;
            text-align: center;
            padding: 20px;
        }

        .loading::after {
            content: '‚åõ ‡¶≤‡ßã‡¶° ‡¶π‡¶ö‡ßç‡¶õ‡ßá...';
            font-size: 18px;
        }

        @media (max-width: 768px) {
            .tabs {
                flex-direction: column;
            }
            
            .dashboard {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üè™ ‡¶∏‡ßÅ‡¶ú‡¶® ‡¶∏‡ßç‡¶ï‡¶Ø‡¶º‡¶æ‡¶∞</h1>
            <p>‡¶™‡¶æ‡¶á‡¶ï‡¶æ‡¶∞‡¶ø ‡¶ì ‡¶ñ‡ßÅ‡¶ö‡¶∞‡¶æ ‡¶¨‡ßç‡¶Ø‡¶¨‡¶∏‡¶æ ‡¶¨‡ßç‡¶Ø‡¶¨‡¶∏‡ßç‡¶•‡¶æ‡¶™‡¶®‡¶æ ‡¶∏‡¶ø‡¶∏‡ßç‡¶ü‡ßá‡¶Æ</p>
            <p>üìç ‡¶¨‡¶¶‡¶∞‡¶ó‡¶æ‡¶õ‡¶ø ‡¶â‡¶™‡¶ú‡ßá‡¶≤‡¶æ</p>
        </div>

        <div class="dashboard" id="dashboard">
            <div class="card">
                <h3>üì¶ ‡¶Æ‡ßã‡¶ü ‡¶™‡¶£‡ßç‡¶Ø</h3>
                <div class="number" id="totalProducts">0</div>
            </div>
            <div class="card">
                <h3>üí∞ ‡¶Ü‡¶ú‡¶ï‡ßá‡¶∞ ‡¶¨‡¶ø‡¶ï‡ßç‡¶∞‡¶Ø‡¶º</h3>
                <div class="number" id="todaySales">‡ß≥0</div>
            </div>
            <div class="card">
                <h3>üîÑ ‡¶´‡ßá‡¶∞‡¶§ ‡¶™‡¶£‡ßç‡¶Ø</h3>
                <div class="number" id="returnedProducts">0</div>
            </div>
            <div class="card">
                <h3>‚ö†Ô∏è ‡¶Æ‡ßá‡¶Ø‡¶º‡¶æ‡¶¶‡ßã‡¶§‡ßç‡¶§‡ßÄ‡¶∞‡ßç‡¶£</h3>
                <div class="number" id="expiredProducts">0</div>
            </div>
            <div class="card">
                <h3>üë• ‡¶ï‡¶∞‡ßç‡¶Æ‡¶ö‡¶æ‡¶∞‡ßÄ</h3>
                <div class="number" id="totalEmployees">5</div>
            </div>
            <div class="card">
                <h3>üöê ‡¶°‡ßá‡¶≤‡¶ø‡¶≠‡¶æ‡¶∞‡¶ø</h3>
                <div class="number" id="pendingDeliveries">0</div>
            </div>
        </div>

        <div class="tabs">
            <button class="tab-button active" onclick="showTab('inventory')">üì¶ ‡¶™‡¶£‡ßç‡¶Ø ‡¶¨‡ßç‡¶Ø‡¶¨‡¶∏‡ßç‡¶•‡¶æ‡¶™‡¶®‡¶æ</button>
            <button class="tab-button" onclick="showTab('sales')">üí∞ ‡¶¨‡¶ø‡¶ï‡ßç‡¶∞‡¶Ø‡¶º</button>
            <button class="tab-button" onclick="showTab('returns')">üîÑ ‡¶´‡ßá‡¶∞‡¶§</button>
            <button class="tab-button" onclick="showTab('expired')">‚ö†Ô∏è ‡¶Æ‡ßá‡¶Ø‡¶º‡¶æ‡¶¶‡ßã‡¶§‡ßç‡¶§‡ßÄ‡¶∞‡ßç‡¶£</button>
            <button class="tab-button" onclick="showTab('customers')">üè™ ‡¶¶‡ßã‡¶ï‡¶æ‡¶®‡¶¶‡¶æ‡¶∞</button>
            <button class="tab-button" onclick="showTab('delivery')">üöê ‡¶°‡ßá‡¶≤‡¶ø‡¶≠‡¶æ‡¶∞‡¶ø</button>
            <button class="tab-button" onclick="showTab('reports')">üìä ‡¶∞‡¶ø‡¶™‡ßã‡¶∞‡ßç‡¶ü</button>
        </div>

        <div class="loading" id="loading"></div>

        <!-- ‡¶™‡¶£‡ßç‡¶Ø ‡¶¨‡ßç‡¶Ø‡¶¨‡¶∏‡ßç‡¶•‡¶æ‡¶™‡¶®‡¶æ ‡¶ü‡ßç‡¶Ø‡¶æ‡¶¨ -->
        <div class="tab-content active" id="inventory">
            <h2>‡¶™‡¶£‡ßç‡¶Ø ‡¶¨‡ßç‡¶Ø‡¶¨‡¶∏‡ßç‡¶•‡¶æ‡¶™‡¶®‡¶æ</h2>
            
            <div class="form-group">
                <input type="text" id="searchProduct" placeholder="‡¶™‡¶£‡ßç‡¶Ø ‡¶ñ‡ßÅ‡¶Å‡¶ú‡ßÅ‡¶®..." class="search-box">
            </div>

            <button class="btn" onclick="showAddProductModal()">+ ‡¶®‡¶§‡ßÅ‡¶® ‡¶™‡¶£‡ßç‡¶Ø ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡ßÅ‡¶®</button>
            
            <table id="productsTable">
                <thead>
                    <tr>
                        <th>‡¶™‡¶£‡ßç‡¶Ø‡ßá‡¶∞ ‡¶®‡¶æ‡¶Æ</th>
                        <th>‡¶ï‡ßã‡¶Æ‡ßç‡¶™‡¶æ‡¶®‡¶ø</th>
                        <th>‡¶™‡¶æ‡¶á‡¶ï‡¶æ‡¶∞‡¶ø ‡¶Æ‡ßÇ‡¶≤‡ßç‡¶Ø</th>
                        <th>‡¶ñ‡ßÅ‡¶ö‡¶∞‡¶æ ‡¶Æ‡ßÇ‡¶≤‡ßç‡¶Ø</th>
                        <th>‡¶∏‡ßç‡¶ü‡¶ï</th>
                        <th>‡¶Æ‡ßá‡¶Ø‡¶º‡¶æ‡¶¶</th>
                        <th>‡¶Ö‡ßç‡¶Ø‡¶æ‡¶ï‡¶∂‡¶®</th>
                    </tr>
                </thead>
                <tbody id="productsTableBody">
                    <!-- Products will be loaded here -->
                </tbody>
            </table>
        </div>

        <!-- ‡¶¨‡¶ø‡¶ï‡ßç‡¶∞‡¶Ø‡¶º ‡¶ü‡ßç‡¶Ø‡¶æ‡¶¨ -->
        <div class="tab-content" id="sales">
            <h2>‡¶¨‡¶ø‡¶ï‡ßç‡¶∞‡¶Ø‡¶º ‡¶¨‡ßç‡¶Ø‡¶¨‡¶∏‡ßç‡¶•‡¶æ‡¶™‡¶®‡¶æ</h2>
            
            <form id="salesForm">
                <div class="form-group">
                    <label>‡¶¶‡ßã‡¶ï‡¶æ‡¶® ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®:</label>
                    <select id="customerSelect" required>
                        <option value="">-- ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶® ‡¶ï‡¶∞‡ßÅ‡¶® --</option>
                    </select>
                </div>

                <div class="form-group">
                    <label>‡¶™‡¶£‡ßç‡¶Ø ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®:</label>
                    <select id="productSelect" required>
                        <option value="">-- ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶® ‡¶ï‡¶∞‡ßÅ‡¶® --</option>
                    </select>
                </div>

                <div class="form-group">
                    <label>‡¶™‡¶∞‡¶ø‡¶Æ‡¶æ‡¶£:</label>
                    <input type="number" id="quantity" min="1" required>
                </div>

                <div class="form-group">
                    <label>‡¶á‡¶â‡¶®‡¶ø‡¶Ø‡¶º‡¶®:</label>
                    <input type="text" id="union" placeholder="‡¶á‡¶â‡¶®‡¶ø‡¶Ø‡¶º‡¶®‡ßá‡¶∞ ‡¶®‡¶æ‡¶Æ" required>
                </div>

                <button type="submit" class="btn">‡¶¨‡¶ø‡¶ï‡ßç‡¶∞‡¶Ø‡¶º ‡¶®‡¶ø‡¶∂‡ßç‡¶ö‡¶ø‡¶§ ‡¶ï‡¶∞‡ßÅ‡¶®</button>
            </form>

            <h3 style="margin-top: 30px;">‡¶∏‡¶æ‡¶Æ‡ßç‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶ï ‡¶¨‡¶ø‡¶ï‡ßç‡¶∞‡¶Ø‡¶º</h3>
            <table id="salesTable">
                <thead>
                    <tr>
                        <th>‡¶§‡¶æ‡¶∞‡¶ø‡¶ñ</th>
                        <th>‡¶¶‡ßã‡¶ï‡¶æ‡¶®</th>
                        <th>‡¶™‡¶£‡ßç‡¶Ø</th>
                        <th>‡¶™‡¶∞‡¶ø‡¶Æ‡¶æ‡¶£</th>
                        <th>‡¶Æ‡ßã‡¶ü ‡¶ü‡¶æ‡¶ï‡¶æ</th>
                        <th>‡¶á‡¶â‡¶®‡¶ø‡¶Ø‡¶º‡¶®</th>
                    </tr>
                </thead>
                <tbody id="salesTableBody">
                    <!-- Sales will be loaded here -->
                </tbody>
            </table>
        </div>

        <!-- ‡¶´‡ßá‡¶∞‡¶§ ‡¶ü‡ßç‡¶Ø‡¶æ‡¶¨ -->
        <div class="tab-content" id="returns">
            <h2>‡¶´‡ßá‡¶∞‡¶§ ‡¶™‡¶£‡ßç‡¶Ø ‡¶¨‡ßç‡¶Ø‡¶¨‡¶∏‡ßç‡¶•‡¶æ‡¶™‡¶®‡¶æ</h2>
            
            <form id="returnForm">
                <div class="form-group">
                    <label>‡¶¶‡ßã‡¶ï‡¶æ‡¶®:</label>
                    <select id="returnCustomer" required>
                        <option value="">-- ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶® ‡¶ï‡¶∞‡ßÅ‡¶® --</option>
                    </select>
                </div>

                <div class="form-group">
                    <label>‡¶™‡¶£‡ßç‡¶Ø:</label>
                    <select id="returnProduct" required>
                        <option value="">-- ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶® ‡¶ï‡¶∞‡ßÅ‡¶® --</option>
                    </select>
                </div>

                <div class="form-group">
                    <label>‡¶™‡¶∞‡¶ø‡¶Æ‡¶æ‡¶£:</label>
                    <input type="number" id="returnQuantity" min="1" required>
                </div>

                <div class="form-group">
                    <label>‡¶´‡ßá‡¶∞‡¶§‡ßá‡¶∞ ‡¶ï‡¶æ‡¶∞‡¶£:</label>
                    <textarea id="returnReason" rows="3" required></textarea>
                </div>

                <button type="submit" class="btn">‡¶´‡ßá‡¶∞‡¶§ ‡¶®‡¶ø‡¶∂‡ßç‡¶ö‡¶ø‡¶§ ‡¶ï‡¶∞‡ßÅ‡¶®</button>
            </form>

            <h3 style="margin-top: 30px;">‡¶´‡ßá‡¶∞‡¶§ ‡¶§‡¶æ‡¶≤‡¶ø‡¶ï‡¶æ</h3>
            <table id="returnsTable">
                <thead>
                    <tr>
                        <th>‡¶§‡¶æ‡¶∞‡¶ø‡¶ñ</th>
                        <th>‡¶¶‡ßã‡¶ï‡¶æ‡¶®</th>
                        <th>‡¶™‡¶£‡ßç‡¶Ø</th>
                        <th>‡¶™‡¶∞‡¶ø‡¶Æ‡¶æ‡¶£</th>
                        <th>‡¶ï‡¶æ‡¶∞‡¶£</th>
                    </tr>
                </thead>
                <tbody id="returnsTableBody">
                    <!-- Returns will be loaded here -->
                </tbody>
            </table>
        </div>

        <!-- ‡¶Æ‡ßá‡¶Ø‡¶º‡¶æ‡¶¶‡ßã‡¶§‡ßç‡¶§‡ßÄ‡¶∞‡ßç‡¶£ ‡¶ü‡ßç‡¶Ø‡¶æ‡¶¨ -->
        <div class="tab-content" id="expired">
            <h2>‡¶Æ‡ßá‡¶Ø‡¶º‡¶æ‡¶¶‡ßã‡¶§‡ßç‡¶§‡ßÄ‡¶∞‡ßç‡¶£ ‡¶™‡¶£‡ßç‡¶Ø ‡¶¨‡ßç‡¶Ø‡¶¨‡¶∏‡ßç‡¶•‡¶æ‡¶™‡¶®‡¶æ</h2>
            
            <button class="btn btn-danger" onclick="checkExpiredProducts()">üîç ‡¶Æ‡ßá‡¶Ø‡¶º‡¶æ‡¶¶‡ßã‡¶§‡ßç‡¶§‡ßÄ‡¶∞‡ßç‡¶£ ‡¶™‡¶£‡ßç‡¶Ø ‡¶ñ‡ßÅ‡¶Å‡¶ú‡ßÅ‡¶®</button>
            
            <table id="expiredTable" style="margin-top: 20px;">
                <thead>
                    <tr>
                        <th>‡¶™‡¶£‡ßç‡¶Ø‡ßá‡¶∞ ‡¶®‡¶æ‡¶Æ</th>
                        <th>‡¶ï‡ßã‡¶Æ‡ßç‡¶™‡¶æ‡¶®‡¶ø</th>
                        <th>‡¶∏‡ßç‡¶ü‡¶ï</th>
                        <th>‡¶Æ‡ßá‡¶Ø‡¶º‡¶æ‡¶¶ ‡¶∂‡ßá‡¶∑</th>
                        <th>‡¶Ö‡ßç‡¶Ø‡¶æ‡¶ï‡¶∂‡¶®</th>
                    </tr>
                </thead>
                <tbody id="expiredTableBody">
                    <!-- Expired products will be loaded here -->
                </tbody>
            </table>
        </div>

        <!-- ‡¶¶‡ßã‡¶ï‡¶æ‡¶®‡¶¶‡¶æ‡¶∞ ‡¶ü‡ßç‡¶Ø‡¶æ‡¶¨ -->
        <div class="tab-content" id="customers">
            <h2>‡¶¶‡ßã‡¶ï‡¶æ‡¶®‡¶¶‡¶æ‡¶∞ ‡¶¨‡ßç‡¶Ø‡¶¨‡¶∏‡ßç‡¶•‡¶æ‡¶™‡¶®‡¶æ</h2>
            
            <button class="btn" onclick="showAddCustomerModal()">+ ‡¶®‡¶§‡ßÅ‡¶® ‡¶¶‡ßã‡¶ï‡¶æ‡¶® ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡ßÅ‡¶®</button>
            
            <table id="customersTable" style="margin-top: 20px;">
                <thead>
                    <tr>
                        <th>‡¶¶‡ßã‡¶ï‡¶æ‡¶®‡ßá‡¶∞ ‡¶®‡¶æ‡¶Æ</th>
                        <th>‡¶Æ‡¶æ‡¶≤‡¶ø‡¶ï‡ßá‡¶∞ ‡¶®‡¶æ‡¶Æ</th>
                        <th>‡¶Æ‡ßã‡¶¨‡¶æ‡¶á‡¶≤</th>
                        <th>‡¶á‡¶â‡¶®‡¶ø‡¶Ø‡¶º‡¶®</th>
                        <th>‡¶†‡¶ø‡¶ï‡¶æ‡¶®‡¶æ</th>
                        <th>‡¶¨‡¶ï‡ßá‡¶Ø‡¶º‡¶æ</th>
                    </tr>
                </thead>
                <tbody id="customersTableBody">
                    <!-- Customers will be loaded here -->
                </tbody>
            </table>
        </div>

        <!-- ‡¶°‡ßá‡¶≤‡¶ø‡¶≠‡¶æ‡¶∞‡¶ø ‡¶ü‡ßç‡¶Ø‡¶æ‡¶¨ -->
        <div class="tab-content" id="delivery">
            <h2>‡¶°‡ßá‡¶≤‡¶ø‡¶≠‡¶æ‡¶∞‡¶ø ‡¶¨‡ßç‡¶Ø‡¶¨‡¶∏‡ßç‡¶•‡¶æ‡¶™‡¶®‡¶æ</h2>
            
            <form id="deliveryForm">
                <div class="form-group">
                    <label>‡¶°‡ßç‡¶∞‡¶æ‡¶á‡¶≠‡¶æ‡¶∞:</label>
                    <select id="driver" required>
                        <option value="">-- ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶® ‡¶ï‡¶∞‡ßÅ‡¶® --</option>
                        <option value="‡¶∞‡¶π‡¶ø‡¶Æ">‡¶∞‡¶π‡¶ø‡¶Æ</option>
                        <option value="‡¶ï‡¶∞‡¶ø‡¶Æ">‡¶ï‡¶∞‡¶ø‡¶Æ</option>
                        <option value="‡¶∏‡¶æ‡¶≤‡¶æ‡¶Æ">‡¶∏‡¶æ‡¶≤‡¶æ‡¶Æ</option>
                    </select>
                </div>

                <div class="form-group">
                    <label>‡¶á‡¶â‡¶®‡¶ø‡¶Ø‡¶º‡¶® ‡¶∞‡ßÅ‡¶ü:</label>
                    <input type="text" id="route" placeholder="‡¶Ø‡ßá‡¶Æ‡¶®: ‡¶ï‡¶æ‡¶ü‡¶æ‡¶ñ‡¶æ‡¶≤‡ßÄ, ‡¶∂‡¶ø‡¶Ç‡¶°‡¶º‡ßÄ" required>
                </div>

                <div class="form-group">
                    <label>‡¶™‡ßç‡¶∞‡¶∏‡ßç‡¶•‡¶æ‡¶®‡ßá‡¶∞ ‡¶∏‡¶Æ‡¶Ø‡¶º:</label>
                    <input type="time" id="departureTime" required>
                </div>

                <button type="submit" class="btn">‡¶°‡ßá‡¶≤‡¶ø‡¶≠‡¶æ‡¶∞‡¶ø ‡¶∂‡ßÅ‡¶∞‡ßÅ ‡¶ï‡¶∞‡ßÅ‡¶®</button>
            </form>

            <h3 style="margin-top: 30px;">‡¶Ü‡¶ú‡¶ï‡ßá‡¶∞ ‡¶°‡ßá‡¶≤‡¶ø‡¶≠‡¶æ‡¶∞‡¶ø</h3>
            <table id="deliveryTable">
                <thead>
                    <tr>
                        <th>‡¶°‡ßç‡¶∞‡¶æ‡¶á‡¶≠‡¶æ‡¶∞</th>
                        <th>‡¶∞‡ßÅ‡¶ü</th>
                        <th>‡¶™‡ßç‡¶∞‡¶∏‡ßç‡¶•‡¶æ‡¶®</th>
                        <th>‡¶∏‡ßç‡¶ü‡ßç‡¶Ø‡¶æ‡¶ü‡¶æ‡¶∏</th>
                        <th>‡¶Ö‡ßç‡¶Ø‡¶æ‡¶ï‡¶∂‡¶®</th>
                    </tr>
                </thead>
                <tbody id="deliveryTableBody">
                    <!-- Deliveries will be loaded here -->
                </tbody>
            </table>
        </div>

        <!-- ‡¶∞‡¶ø‡¶™‡ßã‡¶∞‡ßç‡¶ü ‡¶ü‡ßç‡¶Ø‡¶æ‡¶¨ -->
        <div class="tab-content" id="reports">
            <h2>‡¶¨‡ßç‡¶Ø‡¶¨‡¶∏‡¶æ‡¶Ø‡¶º‡¶ø‡¶ï ‡¶∞‡¶ø‡¶™‡ßã‡¶∞‡ßç‡¶ü</h2>
            
            <div class="dashboard">
                <div class="card">
                    <h3>‡¶Æ‡¶æ‡¶∏‡¶ø‡¶ï ‡¶¨‡¶ø‡¶ï‡ßç‡¶∞‡¶Ø‡¶º</h3>
                    <div class="number" id="monthlySales">‡ß≥0</div>
                </div>
                <div class="card">
                    <h3>‡¶Æ‡¶æ‡¶∏‡¶ø‡¶ï ‡¶≤‡¶æ‡¶≠</h3>
                    <div class="number" id="monthlyProfit">‡ß≥0</div>
                </div>
                <div class="card">
                    <h3>‡¶∏‡¶∞‡ßç‡¶¨‡¶æ‡¶ß‡¶ø‡¶ï ‡¶¨‡¶ø‡¶ï‡ßç‡¶∞‡¶ø‡¶§</h3>
                    <div id="topProduct">-</div>
                </div>
            </div>

            <button class="btn btn-success" onclick="generateReport()">üìä ‡¶¨‡¶ø‡¶∏‡ßç‡¶§‡¶æ‡¶∞‡¶ø‡¶§ ‡¶∞‡¶ø‡¶™‡ßã‡¶∞‡ßç‡¶ü ‡¶§‡ßà‡¶∞‡¶ø ‡¶ï‡¶∞‡ßÅ‡¶®</button>
            
            <div id="reportContent" style="margin-top: 20px;">
                <!-- Report will be generated here -->
            </div>
        </div>
    </div>

    <!-- ‡¶Æ‡ßã‡¶°‡¶æ‡¶≤ - ‡¶®‡¶§‡ßÅ‡¶® ‡¶™‡¶£‡ßç‡¶Ø ‡¶Ø‡ßã‡¶ó -->
    <div id="productModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('productModal')">&times;</span>
            <h2>‡¶®‡¶§‡ßÅ‡¶® ‡¶™‡¶£‡ßç‡¶Ø ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡ßÅ‡¶®</h2>
            
            <form id="addProductForm">
                <div class="form-group">
                    <label>‡¶™‡¶£‡ßç‡¶Ø‡ßá‡¶∞ ‡¶®‡¶æ‡¶Æ:</label>
                    <input type="text" id="productName" required>
                </div>
                
                <div class="form-group">
                    <label>‡¶ï‡ßã‡¶Æ‡ßç‡¶™‡¶æ‡¶®‡¶ø:</label>
                    <select id="company" required>
                        <option value="">-- ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶® ‡¶ï‡¶∞‡ßÅ‡¶® --</option>
                        <option value="‡¶™‡ßç‡¶∞‡¶æ‡¶£">‡¶™‡ßç‡¶∞‡¶æ‡¶£</option>
                        <option value="‡¶∞‡¶æ‡¶π‡ßÅ‡¶≤">‡¶∞‡¶æ‡¶π‡ßÅ‡¶≤</option>
                        <option value="‡¶ï‡ßã‡¶ï‡ßã‡¶≤‡¶æ">‡¶ï‡ßã‡¶ï‡ßã‡¶≤‡¶æ</option>
                        <option value="‡¶á‡¶∏‡ßç‡¶™‡¶æ‡¶π‡¶æ‡¶®‡¶ø">‡¶á‡¶∏‡ßç‡¶™‡¶æ‡¶π‡¶æ‡¶®‡¶ø</option>
                        <option value="‡¶Ö‡¶®‡ßç‡¶Ø‡¶æ‡¶®‡ßç‡¶Ø">‡¶Ö‡¶®‡ßç‡¶Ø‡¶æ‡¶®‡ßç‡¶Ø</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label>‡¶ï‡ßç‡¶Ø‡¶æ‡¶ü‡¶æ‡¶ó‡¶∞‡¶ø:</label>
                    <select id="category" required>
                        <option value="">-- ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶® ‡¶ï‡¶∞‡ßÅ‡¶® --</option>
                        <option value="‡¶™‡¶æ‡¶â‡¶∞‡ßÅ‡¶ü‡¶ø">‡¶™‡¶æ‡¶â‡¶∞‡ßÅ‡¶ü‡¶ø</option>
                        <option value="‡¶¨‡¶ø‡¶∏‡ßç‡¶ï‡¶ø‡¶ü">‡¶¨‡¶ø‡¶∏‡ßç‡¶ï‡¶ø‡¶ü</option>
                        <option value="‡¶∏‡ßá‡¶Æ‡¶æ‡¶á">‡¶∏‡ßá‡¶Æ‡¶æ‡¶á</option>
                        <option value="‡¶ö‡¶æ‡¶®‡¶æ‡¶ö‡ßÅ‡¶∞">‡¶ö‡¶æ‡¶®‡¶æ‡¶ö‡ßÅ‡¶∞</option>
                        <option value="‡¶Ö‡¶®‡ßç‡¶Ø‡¶æ‡¶®‡ßç‡¶Ø">‡¶Ö‡¶®‡ßç‡¶Ø‡¶æ‡¶®‡ßç‡¶Ø</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label>‡¶™‡¶æ‡¶á‡¶ï‡¶æ‡¶∞‡¶ø ‡¶Æ‡ßÇ‡¶≤‡ßç‡¶Ø (‡¶ü‡¶æ‡¶ï‡¶æ):</label>
                    <input type="number" id="wholesalePrice" step="0.01" required>
                </div>
                
                <div class="form-group">
                    <label>‡¶ñ‡ßÅ‡¶ö‡¶∞‡¶æ ‡¶Æ‡ßÇ‡¶≤‡ßç‡¶Ø (‡¶ü‡¶æ‡¶ï‡¶æ):</label>
                    <input type="number" id="retailPrice" step="0.01" required>
                </div>
                
                <div class="form-group">
                    <label>‡¶™‡ßç‡¶∞‡¶æ‡¶•‡¶Æ‡¶ø‡¶ï ‡¶∏‡ßç‡¶ü‡¶ï:</label>
                    <input type="number" id="initialStock" min="0" required>
                </div>
                
                <div class="form-group">
                    <label>‡¶Æ‡ßá‡¶Ø‡¶º‡¶æ‡¶¶ ‡¶∂‡ßá‡¶∑:</label>
                    <input type="date" id="expiryDate" required>
                </div>
                
                <button type="submit" class="btn">‡¶∏‡¶Ç‡¶∞‡¶ï‡ßç‡¶∑‡¶£ ‡¶ï‡¶∞‡ßÅ‡¶®</button>
            </form>
        </div>
    </div>

    <!-- ‡¶Æ‡ßã‡¶°‡¶æ‡¶≤ - ‡¶®‡¶§‡ßÅ‡¶® ‡¶¶‡ßã‡¶ï‡¶æ‡¶® ‡¶Ø‡ßã‡¶ó -->
    <div id="customerModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('customerModal')">&times;</span>
            <h2>‡¶®‡¶§‡ßÅ‡¶® ‡¶¶‡ßã‡¶ï‡¶æ‡¶® ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡ßÅ‡¶®</h2>
            
            <form id="addCustomerForm">
                <div class="form-group">
                    <label>‡¶¶‡ßã‡¶ï‡¶æ‡¶®‡ßá‡¶∞ ‡¶®‡¶æ‡¶Æ:</label>
                    <input type="text" id="shopName" required>
                </div>
                
                <div class="form-group">
                    <label>‡¶Æ‡¶æ‡¶≤‡¶ø‡¶ï‡ßá‡¶∞ ‡¶®‡¶æ‡¶Æ:</label>
                    <input type="text" id="ownerName" required>
                </div>
                
                <div class="form-group">
                    <label>‡¶Æ‡ßã‡¶¨‡¶æ‡¶á‡¶≤ ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞:</label>
                    <input type="tel" id="mobile" pattern="[0-9]{11}" required>
                </div>
                
                <div class="form-group">
                    <label>‡¶á‡¶â‡¶®‡¶ø‡¶Ø‡¶º‡¶®:</label>
                    <select id="unionName" required>
                        <option value="">-- ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶® ‡¶ï‡¶∞‡ßÅ‡¶® --</option>
                        <option value="‡¶ï‡¶æ‡¶ü‡¶æ‡¶ñ‡¶æ‡¶≤‡ßÄ">‡¶ï‡¶æ‡¶ü‡¶æ‡¶ñ‡¶æ‡¶≤‡ßÄ</option>
                        <option value="‡¶∂‡¶ø‡¶Ç‡¶°‡¶º‡ßÄ">‡¶∂‡¶ø‡¶Ç‡¶°‡¶º‡ßÄ</option>
                        <option value="‡¶¨‡¶°‡¶º‡¶¨‡¶ø‡¶≤‡¶æ">‡¶¨‡¶°‡¶º‡¶¨‡¶ø‡¶≤‡¶æ</option>
                        <option value="‡¶ö‡¶ï‡¶∞‡¶æ‡¶ú‡¶æ‡¶™‡ßÅ‡¶∞">‡¶ö‡¶ï‡¶∞‡¶æ‡¶ú‡¶æ‡¶™‡ßÅ‡¶∞</option>
                        <option value="‡¶ó‡ßã‡¶¨‡¶ø‡¶®‡ßç‡¶¶‡¶™‡ßÅ‡¶∞">‡¶ó‡ßã‡¶¨‡¶ø‡¶®‡ßç‡¶¶‡¶™‡ßÅ‡¶∞</option>
                        <option value="‡¶Ö‡¶®‡ßç‡¶Ø‡¶æ‡¶®‡ßç‡¶Ø">‡¶Ö‡¶®‡ßç‡¶Ø‡¶æ‡¶®‡ßç‡¶Ø</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label>‡¶™‡ßÇ‡¶∞‡ßç‡¶£ ‡¶†‡¶ø‡¶ï‡¶æ‡¶®‡¶æ:</label>
                    <textarea id="address" rows="3" required></textarea>
                </div>
                
                <button type="submit" class="btn">‡¶∏‡¶Ç‡¶∞‡¶ï‡ßç‡¶∑‡¶£ ‡¶ï‡¶∞‡ßÅ‡¶®</button>
            </form>
        </div>
    </div>

    <script>
        // SheetDB API Configuration
        const SHEETDB_API_URL = 'YOUR_SHEETDB_API_URL'; // ‡¶è‡¶ñ‡¶æ‡¶®‡ßá ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ SheetDB API URL ‡¶¶‡¶ø‡¶®
        
        // Initialize the app
        document.addEventListener('DOMContentLoaded', function() {
            loadDashboard();
            loadProducts();
            loadCustomers();
        });

        // Tab switching function
        function showTab(tabName) {
            // Hide all tabs
            const allTabs = document.querySelectorAll('.tab-content');
            allTabs.forEach(tab => tab.classList.remove('active'));
            
            // Remove active class from all buttons
            const allButtons = document.querySelectorAll('.tab-button');
            allButtons.forEach(btn => btn.classList.remove('active'));
            
            // Show selected tab
            document.getElementById(tabName).classList.add('active');
            
            // Add active class to clicked button
            event.target.classList.add('active');
            
            // Load specific tab data
            switch(tabName) {
                case 'sales':
                    loadSales();
                    break;
                case 'returns':
                    loadReturns();
                    break;
                case 'delivery':
                    loadDeliveries();
                    break;
            }
        }

        // Modal functions
        function showAddProductModal() {
            document.getElementById('productModal').style.display = 'block';
        }

        function showAddCustomerModal() {
            document.getElementById('customerModal').style.display = 'block';
        }

        function closeModal(modalId) {
            document.getElementById(modalId).style.display = 'none';
        }

        // Loading indicator
        function showLoading() {
            document.getElementById('loading').style.display = 'block';
        }

        function hideLoading() {
            document.getElementById('loading').style.display = 'none';
        }

        // Dashboard loading
        async function loadDashboard() {
            try {
                showLoading();
                
                // Load summary data from SheetDB
                const products = await fetchFromSheet('products');
                const sales = await fetchFromSheet('sales');
                const returns = await fetchFromSheet('returns');
                const expired = await fetchFromSheet('expired');
                
                // Calculate today's sales
                const today = new Date().toISOString().split('T')[0];
                const todaySales = sales
                    .filter(sale => sale.date === today)
                    .reduce((sum, sale) => sum + parseFloat(sale.amount), 0);
                
                // Update dashboard
                document.getElementById('totalProducts').textContent = products.length;
                document.getElementById('todaySales').textContent = `‡ß≥${todaySales.toFixed(2)}`;
                document.getElementById('returnedProducts').textContent = returns.length;
                document.getElementById('expiredProducts').textContent = expired.length;
                
                hideLoading();
            } catch (error) {
                console.error('Dashboard loading error:', error);
                hideLoading();
            }
        }

        // Product management
        async function loadProducts() {
            try {
                showLoading();
                const products = await fetchFromSheet('products');
                
                const tbody = document.getElementById('productsTableBody');
                tbody.innerHTML = '';
                
                products.forEach(product => {
                    const row = tbody.insertRow();
                    row.innerHTML = `
                        <td>${product.name}</td>
                        <td>${product.company}</td>
                        <td>‡ß≥${product.wholesale_price}</td>
                        <td>‡ß≥${product.retail_price}</td>
                        <td>${product.stock}</td>
                        <td>${formatDate(product.expiry_date)}</td>
                        <td>
                            <button class="btn btn-sm" onclick="editProduct('${product.id}')">‡¶∏‡¶Æ‡ßç‡¶™‡¶æ‡¶¶‡¶®‡¶æ</button>
                            <button class="btn btn-danger btn-sm" onclick="deleteProduct('${product.id}')">‡¶Æ‡ßÅ‡¶õ‡ßÅ‡¶®</button>
                        </td>
                    `;
                });
                
                hideLoading();
            } catch (error) {
                console.error('Product loading error:', error);
                hideLoading();
            }
        }

        // Add new product
        document.getElementById('addProductForm').addEventListener('submit', async function(e) {
            e.preventDefault();
            
            const productData = {
                name: document.getElementById('productName').value,
                company: document.getElementById('company').value,
                category: document.getElementById('category').value,
                wholesale_price: document.getElementById('wholesalePrice').value,
                retail_price: document.getElementById('retailPrice').value,
                stock: document.getElementById('initialStock').value,
                expiry_date: document.getElementById('expiryDate').value,
                created_at: new Date().toISOString()
            };
            
            try {
                showLoading();
                await addToSheet('products', productData);
                closeModal('productModal');
                loadProducts();
                alert('‡¶™‡¶£‡ßç‡¶Ø ‡¶∏‡¶´‡¶≤‡¶≠‡¶æ‡¶¨‡ßá ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá!');
            } catch (error) {
                console.error('Error adding product:', error);
                alert('‡¶™‡¶£‡ßç‡¶Ø ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡¶§‡ßá ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá!');
            } finally {
                hideLoading();
            }
        });

        // Sales management
        document.getElementById('salesForm').addEventListener('submit', async function(e) {
            e.preventDefault();
            
            const salesData = {
                date: new Date().toISOString().split('T')[0],
                customer_id: document.getElementById('customerSelect').value,
                product_id: document.getElementById('productSelect').value,
                quantity: document.getElementById('quantity').value,
                union: document.getElementById('union').value,
                amount: calculateAmount(),
                created_at: new Date().toISOString()
            };
            
            try {
                showLoading();
                await addToSheet('sales', salesData);
                await updateProductStock(salesData.product_id, -salesData.quantity);
                this.reset();
                loadSales();
                alert('‡¶¨‡¶ø‡¶ï‡ßç‡¶∞‡¶Ø‡¶º ‡¶∏‡¶´‡¶≤‡¶≠‡¶æ‡¶¨‡ßá ‡¶∞‡ßá‡¶ï‡¶∞‡ßç‡¶° ‡¶ï‡¶∞‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá!');
            } catch (error) {
                console.error('Error recording sale:', error);
                alert('‡¶¨‡¶ø‡¶ï‡ßç‡¶∞‡¶Ø‡¶º ‡¶∞‡ßá‡¶ï‡¶∞‡ßç‡¶° ‡¶ï‡¶∞‡¶§‡ßá ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá!');
            } finally {
                hideLoading();
            }
        });

        // Customer management
        async function loadCustomers() {
            try {
                const customers = await fetchFromSheet('customers');
                
                // Update customer select options
                const customerSelect = document.getElementById('customerSelect');
                const returnCustomer = document.getElementById('returnCustomer');
                
                customerSelect.innerHTML = '<option value="">-- ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶® ‡¶ï‡¶∞‡ßÅ‡¶® --</option>';
                returnCustomer.innerHTML = '<option value="">-- ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶® ‡¶ï‡¶∞‡ßÅ‡¶® --</option>';
                
                customers.forEach(customer => {
                    const option = new Option(`${customer.shop_name} - ${customer.owner_name}`, customer.id);
                    customerSelect.add(option.cloneNode(true));
                    returnCustomer.add(option);
                });
                
                // Update customers table
                const tbody = document.getElementById('customersTableBody');
                tbody.innerHTML = '';
                
                customers.forEach(customer => {
                    const row = tbody.insertRow();
                    row.innerHTML = `
                        <td>${customer.shop_name}</td>
                        <td>${customer.owner_name}</td>
                        <td>${customer.mobile}</td>
                        <td>${customer.union}</td>
                        <td>${customer.address}</td>
                        <td>‡ß≥${customer.due || 0}</td>
                    `;
                });
            } catch (error) {
                console.error('Customer loading error:', error);
            }
        }

        // Add new customer
        document.getElementById('addCustomerForm').addEventListener('submit', async function(e) {
            e.preventDefault();
            
            const customerData = {
                shop_name: document.getElementById('shopName').value,
                owner_name: document.getElementById('ownerName').value,
                mobile: document.getElementById('mobile').value,
                union: document.getElementById('unionName').value,
                address: document.getElementById('address').value,
                due: 0,
                created_at: new Date().toISOString()
            };
            
            try {
                showLoading();
                await addToSheet('customers', customerData);
                closeModal('customerModal');
                loadCustomers();
                alert('‡¶¶‡ßã‡¶ï‡¶æ‡¶® ‡¶∏‡¶´‡¶≤‡¶≠‡¶æ‡¶¨‡ßá ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá!');
            } catch (error) {
                console.error('Error adding customer:', error);
                alert('‡¶¶‡ßã‡¶ï‡¶æ‡¶® ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡¶§‡ßá ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá!');
            } finally {
                hideLoading();
            }
        });

        // Expired products management
        async function checkExpiredProducts() {
            try {
                showLoading();
                const products = await fetchFromSheet('products');
                const today = new Date();
                
                const expired = products.filter(product => {
                    const expiryDate = new Date(product.expiry_date);
                    return expiryDate < today && product.stock > 0;
                });
                
                const tbody = document.getElementById('expiredTableBody');
                tbody.innerHTML = '';
                
                expired.forEach(product => {
                    const row = tbody.insertRow();
                    row.innerHTML = `
                        <td>${product.name}</td>
                        <td>${product.company}</td>
                        <td>${product.stock}</td>
                        <td>${formatDate(product.expiry_date)}</td>
                        <td>
                            <button class="btn btn-danger btn-sm" onclick="markAsExpired('${product.id}')">
                                ‡¶Æ‡ßá‡¶Ø‡¶º‡¶æ‡¶¶‡ßã‡¶§‡ßç‡¶§‡ßÄ‡¶∞‡ßç‡¶£ ‡¶π‡¶ø‡¶∏‡¶æ‡¶¨‡ßá ‡¶ö‡¶ø‡¶π‡ßç‡¶®‡¶ø‡¶§ ‡¶ï‡¶∞‡ßÅ‡¶®
                            </button>
                        </td>
                    `;
                });
                
                if (expired.length === 0) {
                    tbody.innerHTML = '<tr><td colspan="5" style="text-align: center;">‡¶ï‡ßã‡¶® ‡¶Æ‡ßá‡¶Ø‡¶º‡¶æ‡¶¶‡ßã‡¶§‡ßç‡¶§‡ßÄ‡¶∞‡ßç‡¶£ ‡¶™‡¶£‡ßç‡¶Ø ‡¶™‡¶æ‡¶ì‡¶Ø‡¶º‡¶æ ‡¶Ø‡¶æ‡¶Ø‡¶º‡¶®‡¶ø</td></tr>';
                }
                
                hideLoading();
            } catch (error) {
                console.error('Error checking expired products:', error);
                hideLoading();
            }
        }

        // Report generation
        async function generateReport() {
            try {
                showLoading();
                
                const sales = await fetchFromSheet('sales');
                const products = await fetchFromSheet('products');
                const returns = await fetchFromSheet('returns');
                
                // Calculate monthly data
                const currentMonth = new Date().getMonth();
                const monthlySalesData = sales.filter(sale => {
                    const saleMonth = new Date(sale.date).getMonth();
                    return saleMonth === currentMonth;
                });
                
                const totalSales = monthlySalesData.reduce((sum, sale) => sum + parseFloat(sale.amount), 0);
                
                // Generate report HTML
                const reportHTML = `
                    <h3>‡¶Æ‡¶æ‡¶∏‡¶ø‡¶ï ‡¶¨‡¶ø‡¶∏‡ßç‡¶§‡¶æ‡¶∞‡¶ø‡¶§ ‡¶∞‡¶ø‡¶™‡ßã‡¶∞‡ßç‡¶ü</h3>
                    <div style="background: #f9f9f9; padding: 20px; border-radius: 10px; margin-top: 20px;">
                        <p><strong>‡¶∞‡¶ø‡¶™‡ßã‡¶∞‡ßç‡¶ü‡ßá‡¶∞ ‡¶§‡¶æ‡¶∞‡¶ø‡¶ñ:</strong> ${formatDate(new Date())}</p>
                        <p><strong>‡¶Æ‡ßã‡¶ü ‡¶¨‡¶ø‡¶ï‡ßç‡¶∞‡¶Ø‡¶º:</strong> ‡ß≥${totalSales.toFixed(2)}</p>
                        <p><strong>‡¶Æ‡ßã‡¶ü ‡¶≤‡ßá‡¶®‡¶¶‡ßá‡¶®:</strong> ${monthlySalesData.length}</p>
                        <p><strong>‡¶Æ‡ßã‡¶ü ‡¶´‡ßá‡¶∞‡¶§:</strong> ${returns.length}</p>
                        <p><strong>‡¶∏‡¶ï‡ßç‡¶∞‡¶ø‡¶Ø‡¶º ‡¶™‡¶£‡ßç‡¶Ø:</strong> ${products.filter(p => p.stock > 0).length}</p>
                    </div>
                    
                    <button class="btn btn-success" style="margin-top: 20px;" onclick="printReport()">
                        üñ®Ô∏è ‡¶∞‡¶ø‡¶™‡ßã‡¶∞‡ßç‡¶ü ‡¶™‡ßç‡¶∞‡¶ø‡¶®‡ßç‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®
                    </button>
                `;
                
                document.getElementById('reportContent').innerHTML = reportHTML;
                
                // Update summary
                document.getElementById('monthlySales').textContent = `‡ß≥${totalSales.toFixed(2)}`;
                
                hideLoading();
            } catch (error) {
                console.error('Error generating report:', error);
                hideLoading();
            }
        }

        // Utility functions
        function formatDate(date) {
            const d = new Date(date);
            return `${d.getDate()}/${d.getMonth() + 1}/${d.getFullYear()}`;
        }

        function calculateAmount() {
            // Calculate amount based on selected product and quantity
            // This is a placeholder - implement actual calculation
            return 0;
        }

        async function updateProductStock(productId, quantityChange) {
            // Update product stock in SheetDB
            // This is a placeholder - implement actual API call
        }

        // SheetDB API functions
        async function fetchFromSheet(sheetName) {
            try {
                const response = await fetch(`${SHEETDB_API_URL}?sheet=${sheetName}`);
                return await response.json();
            } catch (error) {
                console.error(`Error fetching ${sheetName}:`, error);
                return [];
            }
        }

        async function addToSheet(sheetName, data) {
            try {
                const response = await fetch(`${SHEETDB_API_URL}?sheet=${sheetName}`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({ data })
                });
                return await response.json();
            } catch (error) {
                console.error(`Error adding to ${sheetName}:`, error);
                throw error;
            }
        }

        async function updateInSheet(sheetName, id, data) {
            try {
                const response = await fetch(`${SHEETDB_API_URL}/${id}?sheet=${sheetName}`, {
                    method: 'PATCH',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({ data })
                });
                return await response.json();
            } catch (error) {
                console.error(`Error updating ${sheetName}:`, error);
                throw error;
            }
        }

        async function deleteFromSheet(sheetName, id) {
            try {
                const response = await fetch(`${SHEETDB_API_URL}/${id}?sheet=${sheetName}`, {
                    method: 'DELETE'
                });
                return await response.json();
            } catch (error) {
                console.error(`Error deleting from ${sheetName}:`, error);
                throw error;
            }
        }

        // Print report
        function printReport() {
            window.print();
        }

        // Search products
        document.getElementById('searchProduct').addEventListener('input', function(e) {
            const searchTerm = e.target.value.toLowerCase();
            const rows = document.querySelectorAll('#productsTableBody tr');
            
            rows.forEach(row => {
                const text = row.textContent.toLowerCase();
                row.style.display = text.includes(searchTerm) ? '' : 'none';
            });
        });

        // Close modal on click outside
        window.onclick = function(event) {
            if (event.target.classList.contains('modal')) {
                event.target.style.display = 'none';
            }
        }
    </script>
</body>
</html>